{% extends "base.html" %}

{% block title %}Generador de Reportes{% endblock %}

{% block content %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/reports/generator.css') }}">

<div class="report-generator">
    <!-- Encabezado con breadcrumbs -->
    <div class="header-with-breadcrumbs">
        <nav class="breadcrumbs">
            <a href="{{ url_for('content.home') }}"><i class="fas fa-home"></i></a>
            <span><i class="fas fa-chevron-right"></i></span>
            <span>Generador de Reportes</span>
        </nav>
        
        <div class="header">
            <h1>
                <i class="fas fa-file-alt"></i>
                <span>Generador de Reportes Personalizados</span>
            </h1>
        </div>
    </div>

    <!-- Contenedor principal -->
    <div class="report-container">
        <!-- Panel de configuración -->
        <div class="config-panel">
            <div class="config-section">
                <h2><i class="fas fa-cog"></i> Configuración Básica</h2>
                <div class="form-group">
                    <label for="report-name">Nombre del Reporte:</label>
                    <input type="text" id="report-name" placeholder="Ej: Ventas Q1 2023">
                </div>
                
                <div class="form-group">
                    <label for="date-range">Rango de Fechas:</label>
                    <div class="date-range-picker">
                        <input type="date" id="start-date">
                        <span>a</span>
                        <input type="date" id="end-date">
                    </div>
                </div>
            </div>

            <!-- Sección de columnas/data -->
            <div class="config-section">
                <h2><i class="fas fa-table"></i> Datos a Incluir</h2>
                <div class="columns-selector">
                    <div class="column-group">
                        <h3><i class="fas fa-chart-line"></i> Métricas de Ventas</h3>
                        <div class="checkbox-list">
                            <label class="checkbox-item">
                                <input type="checkbox" checked>
                                <span>Ventas Totales</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" checked>
                                <span>Unidades Vendidas</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox">
                                <span>Ticket Promedio</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" checked>
                                <span>Margen de Ganancia</span>
                            </label>
                        </div>
                    </div>
                    
                    <div class="column-group">
                        <h3><i class="fas fa-users"></i> Datos de Clientes</h3>
                        <div class="checkbox-list">
                            <label class="checkbox-item">
                                <input type="checkbox">
                                <span>Clientes Nuevos</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" checked>
                                <span>Clientes Recurrentes</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox">
                                <span>Segmentación</span>
                            </label>
                        </div>
                    </div>
                    
                    <div class="column-group">
                        <h3><i class="fas fa-boxes"></i> Datos de Productos</h3>
                        <div class="checkbox-list">
                            <label class="checkbox-item">
                                <input type="checkbox" checked>
                                <span>Productos Más Vendidos</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox">
                                <span>Stock Disponible</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox">
                                <span>Categorías</span>
                            </label>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Opciones de formato -->
            <div class="config-section">
                <h2><i class="fas fa-file-export"></i> Opciones de Exportación</h2>
                <div class="export-options">
                    <div class="format-options">
                        <label class="radio-item">
                            <input type="radio" name="export-format" value="excel" checked>
                            <div class="radio-content">
                                <i class="fas fa-file-excel"></i>
                                <span>Excel (.xlsx)</span>
                            </div>
                        </label>
                        
                        <label class="radio-item">
                            <input type="radio" name="export-format" value="pdf">
                            <div class="radio-content">
                                <i class="fas fa-file-pdf"></i>
                                <span>PDF</span>
                            </div>
                        </label>
                        
                        <label class="radio-item">
                            <input type="radio" name="export-format" value="csv">
                            <div class="radio-content">
                                <i class="fas fa-file-csv"></i>
                                <span>CSV</span>
                            </div>
                        </label>
                    </div>
                    
                    <div class="additional-options">
                        <h4>Opciones Adicionales:</h4>
                        <label class="checkbox-item">
                            <input type="checkbox" checked>
                            <span>Incluir gráficos</span>
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox">
                            <span>Incluir resumen ejecutivo</span>
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" checked>
                            <span>Formato con colores</span>
                        </label>
                    </div>
                </div>
            </div>
        </div>

        <!-- Panel de vista previa -->
        <div class="preview-panel">
            <div class="preview-header">
                <h2><i class="fas fa-eye"></i> Vista Previa</h2>
                <div class="preview-actions">
                    <button class="btn-refresh">
                        <i class="fas fa-sync-alt"></i> Actualizar
                    </button>
                </div>
            </div>
            
            <div class="preview-content">
                <div class="preview-placeholder">
                    <i class="fas fa-file-alt"></i>
                    <p>Seleccione las opciones para generar una vista previa</p>
                </div>
                
                <!-- Esto sería reemplazado dinámicamente -->
                <div class="preview-data" style="display: none;">
                    <table class="preview-table">
                        <thead>
                            <tr>
                                <th>Fecha</th>
                                <th>Ventas Totales</th>
                                <th>Unidades</th>
                                <th>Margen</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>01/01/2023</td>
                                <td>$12,450.00</td>
                                <td>145</td>
                                <td>32%</td>
                            </tr>
                            <!-- Más filas de ejemplo... -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- Acciones finales -->
    <div class="form-actions">
        <button class="button button-secondary">
            <i class="fas fa-times"></i> Cancelar
        </button>
        <button class="button button-primary">
            <i class="fas fa-file-export"></i> Generar Reporte
        </button>
    </div>
</div>
{% endblock %}